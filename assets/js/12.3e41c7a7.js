(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{497:function(e,t,v){"use strict";v.r(t);var a=v(29),_=Object(a.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"cli"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[e._v("#")]),e._v(" CLI")]),e._v(" "),v("p",[v("img",{attrs:{src:"https://img.shields.io/npm/l/@wxa/cli2.svg",alt:"NpmLicense"}}),e._v(" "),v("img",{attrs:{src:"https://img.shields.io/badge/node-%3E%3D%208.15.0-brightgreen.svg?maxAge=2592000",alt:"node (scoped with tag, custom registry)"}}),e._v(" "),v("a",{attrs:{href:"https://www.npmjs.com/package/@wxa/cli2",target:"_blank",rel:"noopener noreferrer"}},[v("img",{attrs:{src:"https://img.shields.io/npm/v/@wxa/cli2/latest.svg",alt:"NPM version"}}),v("OutboundLink")],1)]),e._v(" "),v("p",[e._v("为小程序开发定制的命令行工具。以模块化方式处理项目依赖，通过依赖分析得到整个项目的结构，在优化代码后最终生成目标小程序代码。")]),e._v(" "),v("p",[v("strong",[e._v("插件机制")]),e._v("上面，采用最新webpack设计的"),v("a",{attrs:{href:"https://github.com/webpack/tapable",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tapable"),v("OutboundLink")],1),e._v("插件机制，对于熟悉webpack插件开发的人来说，可以快速上手cli的插件开发。")]),e._v(" "),v("p",[e._v("助力"),v("strong",[e._v("三方开发")]),e._v("。对于三方项目而言，往往需要在使用框架的同时再手写脚本，以保证一个项目能编译到多个小程序。2.0在这方便做了改进，利用依赖分析树针对不同合作方输出不同页面，支持一次性将项目编译到出多个小程序，同时支持监听模式下的一对多（可能会内存占用高，慎用）。")]),e._v(" "),v("p",[e._v("独特的"),v("strong",[e._v("依赖分包算法")]),e._v("。随着小程序项目的不断迭代，不可避免的体积会越来越大，而分包是唯一解决小程序包大于 2M 的方法。随着而来的问题是如何合理的分配分包和主包的空间，wxa 自研了依赖分包算法，可以将项目依赖合理的分配到分包和主包，最大程度的平衡代码复用和空间分配。")]),e._v(" "),v("h2",{attrs:{id:"特性"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[e._v("#")]),e._v(" 特性")]),e._v(" "),v("ul",[v("li",[e._v("🏄 "),v("strong",[e._v("零配置")]),e._v(" 标准项目无需任何配置，即可运行。")]),e._v(" "),v("li",[e._v("🚀 "),v("strong",[e._v("依赖分包算法")]),e._v(" 自研的依赖分包算法，帮助开发者充分的利用"),v("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("分包空间"),v("OutboundLink")],1),e._v("。")]),e._v(" "),v("li",[e._v("➰ "),v("strong",[e._v("依赖分析")]),e._v(" 自动分析项目依赖，无需手动 copy 三方依赖到项目中。")]),e._v(" "),v("li",[e._v("🤖 "),v("strong",[e._v("组件库")]),e._v(" 任意第三方组件库，随时安装使用，完美适配 weui, vant-weapp, wux-weapp, iview-weapp 等组件库。")]),e._v(" "),v("li",[e._v("🖖 "),v("strong",[e._v("Vue单文件")]),e._v(" SFC 单文件组件开发，组件和页面可以把"),v("code",[e._v("js")]),e._v(","),v("code",[e._v("wxss")]),e._v(","),v("code",[e._v("wxml")]),e._v(","),v("code",[e._v("json")]),e._v("写在同一个"),v("code",[e._v(".wxa")]),e._v("文件。")]),e._v(" "),v("li",[e._v("🔌 "),v("strong",[e._v("插件机制")]),e._v(" 利用插件机制，可以定制自己的文件处理流。")]),e._v(" "),v("li",[e._v("💻 "),v("strong",[e._v("编译器")]),e._v(" 支持"),v("code",[e._v("ES*")]),e._v(", "),v("code",[e._v("Sass")]),e._v(", "),v("code",[e._v("Stylus")]),e._v("。")]),e._v(" "),v("li",[e._v("➿ "),v("strong",[e._v("CLI调用")]),e._v(" 无需打开开发者工具，即可预览、上传代码。✈️")]),e._v(" "),v("li",[e._v("🎯 "),v("strong",[e._v("批量编译")]),e._v(" 一次性编译出多个三方开发小程序。")])]),e._v(" "),v("h2",{attrs:{id:"todo"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[e._v("#")]),e._v(" TODO")]),e._v(" "),v("ul",[v("li",[e._v("☑️ "),v("strong",[e._v("编译到其他小程序平台")])]),e._v(" "),v("li",[e._v("☑️ "),v("strong",[e._v("小程序原生插件开发")])]),e._v(" "),v("li",[e._v("☑️ "),v("strong",[e._v("Tree-Shaking")])])]),e._v(" "),v("h2",{attrs:{id:"安装"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 使用npm安装")]),e._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" i -g @wxa/cli2\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br")])]),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),v("p",[v("code",[e._v("@wxa/cli2")]),e._v("运行在node环境中，先安装"),v("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("node"),v("OutboundLink")],1),e._v("。")])]),e._v(" "),v("h2",{attrs:{id:"基本用例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基本用例"}},[e._v("#")]),e._v(" 基本用例")]),e._v(" "),v("ol",[v("li",[v("p",[e._v("基础编译\n"),v("code",[e._v("wxa2 build")])])]),e._v(" "),v("li",[v("p",[e._v("监听模式\n"),v("code",[e._v("wxa2 build --watch")])])]),e._v(" "),v("li",[v("p",[e._v("指定无效缓存以及打印更详细的构建信息\n"),v("code",[e._v("wxa2 build --no-cache --verbose")])])]),e._v(" "),v("li",[v("p",[e._v("使用模板创建新项目, "),v("a",{attrs:{href:"https://github.com/Genuifx/wxa-templates",target:"_blank",rel:"noopener noreferrer"}},[e._v("template"),v("OutboundLink")],1),e._v(" 网络环境的关系建议拉取 gitee 源\n"),v("code",[e._v("wxa2 create --repo gitee")])])]),e._v(" "),v("li",[v("p",[e._v("调用微信开发者工具, windows用户需要在 "),v("code",[e._v("wxa.config.js")]),e._v(" 设置开发者工具的路径 "),v("code",[e._v("wechatwebdevtools")])]),e._v(" "),v("ul",[v("li",[v("code",[e._v("wxa2 cli -a open")]),e._v(": 打开开发者工具")]),e._v(" "),v("li",[v("code",[e._v("wxa2 cli -a preview")]),e._v(": 预览项目")]),e._v(" "),v("li",[v("code",[e._v("wxa2 cli -a upload")]),e._v(": 上传项目")]),e._v(" "),v("li",[v("code",[e._v("wxa2 cli -a login")]),e._v(": 登录微信，"),v("code",[e._v("preview")]),e._v("和"),v("code",[e._v("upload")]),e._v("都需要登录微信后操作")])])])])])}),[],!1,null,null,null);t.default=_.exports}}]);